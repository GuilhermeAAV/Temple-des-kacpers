<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Temple des Kacper</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="stars"></div>
    <main class="sanctuary">
      <aside class="leaderboard card">
        <header>
          <h2>Leader Aura</h2>
          <p>Les gardiens les plus lumineux.</p>
          <p class="status" id="leaderboard-status">Connexion au temple...</p>
        </header>
        <ol id="leaderboard-list"></ol>
        <button type="button" id="change-pseudo-btn" class="ghost-btn">
          Changer de pseudo
        </button>
        <button type="button" id="account-btn" class="ghost-btn">
          Gerer mon compte
        </button>
      </aside>

      <section class="temple card">
        <header class="intro">
          <h1>Temple des Kacper</h1>
          <p>Canalise l'aura en éveillant différentes formes de Kacper.</p>
        </header>

        <section class="aura-panel">
          <section class="aura-display">
            <span class="label">Aura</span>
            <span id="aura-count">0.00</span>
            <span class="rate">
              <span id="aura-rate">0.00</span>
              aura/s
            </span>
          </section>
          <button type="button" id="meditate-btn">Pulse</button>
        </section>

        <section class="blessing card hidden" id="blessing-panel">
          <header>
            <h2>Offrande mystique</h2>
            <p>
              Tente ta chance pour amplifier ton aura. Le coût augmente après
              chaque rituel.
            </p>
          </header>
          <div class="blessing-action">
            <button type="button" id="blessing-btn" disabled>
              Rituel (100 aura)
            </button>
            <p id="blessing-status" class="blessing-status">
              Accumule 10 auras pour débloquer le rituel.
            </p>
          </div>
          <ul class="blessing-lore">
            <li>
              <strong>La pomme de Kacper</strong> &mdash; 50&nbsp;% :
              <span>+20&nbsp;% d'aura/s</span>
            </li>
                        <li>
              <strong>La saucisse de Kacper</strong> &mdash; 10&nbsp;% :
              <span>+50&nbsp;% d'aura/s</span>
            </li>
            <li>
              <strong>La voiture de Kacper</strong> &mdash; 5&nbsp;% :
              <span>+100&nbsp;% d'aura/s</span>
            </li>
            <li>
              <strong>La meuf de Kacper</strong> &mdash; 0,01&nbsp;% :
              <span>+800&nbsp;% d'aura/s</span>
            </li>
            <li>Autrement : les esprits restent silencieux.</li>
          </ul>
        </section>

        <section class="prayer card hidden" id="prayer-panel">
          <header>
            <h2>Prier Kacper</h2>
            <p>
              Appelle gratuitement l'un des gardiens. Une priere est possible
              toutes les 5 minutes et les disciples les plus rares repondent
              moins souvent.
            </p>
          </header>
          <div class="prayer-action">
            <button type="button" id="prayer-btn" disabled>Prier Kacper</button>
            <p class="prayer-status" id="prayer-status">
              Accumule 50 auras pour prier Kacper.
            </p>
          </div>
        </section>

        <section class="shop" id="kacper-list"></section>
      </section>
    </main>

    <div class="pseudo-overlay hidden" id="account-overlay">
      <div class="pseudo-dialog account-dialog">
        <h2>Compte du temple</h2>
        <p id="account-description">
          Connecte toi pour retrouver ta progression partout.
        </p>
        <div class="account-tabs">
          <button type="button" id="account-login-tab" class="account-tab active">
            Connexion
          </button>
          <button type="button" id="account-register-tab" class="account-tab">
            Inscription
          </button>
        </div>
        <form class="account-form" id="login-form">
          <label class="field">
            <span>Nom d'esprit</span>
            <input
              type="text"
              id="login-name"
              maxlength="32"
              autocomplete="username"
              required
            />
          </label>
          <label class="field">
            <span>Mot de passe</span>
            <input
              type="password"
              id="login-password"
              autocomplete="current-password"
              required
            />
          </label>
          <p class="form-error" id="login-error"></p>
          <button type="submit">Se connecter</button>
        </form>
        <form class="account-form hidden" id="register-form">
          <label class="field">
            <span>Nom d'esprit</span>
            <input
              type="text"
              id="register-name"
              maxlength="32"
              autocomplete="username"
              required
            />
          </label>
          <label class="field">
            <span>Mot de passe</span>
            <input
              type="password"
              id="register-password"
              autocomplete="new-password"
              required
            />
          </label>
          <label class="field">
            <span>Confirmation</span>
            <input
              type="password"
              id="register-confirm"
              autocomplete="new-password"
              required
            />
          </label>
          <p class="form-error" id="register-error"></p>
          <button type="submit">Creer un compte</button>
        </form>
        <p class="account-status" id="account-status"></p>
        <button type="button" id="logout-btn" class="ghost-btn hidden">
          Se deconnecter
        </button>
        <button type="button" id="close-account-btn" class="ghost-btn">
          Fermer
        </button>
      </div>
    </div>

    <div class="pseudo-overlay hidden" id="pseudo-overlay">
      <form class="pseudo-dialog" id="pseudo-form">
        <h2>Entre dans le temple</h2>
        <p>Choisis un pseudo pour que ton aura soit reconnue.</p>
        <input
          type="text"
          id="pseudo-input"
          placeholder="Ton pseudo"
          maxlength="18"
          required
        />
        <button type="submit">Commencer</button>
      </form>
    </div>

    <template id="kacper-card-template">
      <article class="kacper-card">
        <header>
          <h2 class="name"></h2>
          <p class="description"></p>
        </header>
        <div class="stats">
          <div>
            <span class="value production"></span>
            <span class="label">aura/s</span>
          </div>
          <div>
            <span class="value cost"></span>
            <span class="label">coût</span>
          </div>
          <div>
            <span class="value owned"></span>
            <span class="label">possédé</span>
          </div>
        </div>
        <button type="button" class="buy-btn">Invoquer</button>
      </article>
    </template>

    <script>
      window.KACPER_API_URL = "https://kacper-temple.fly.dev";
    </script>
    <script src="script.js"></script>
  </body>
</html>

